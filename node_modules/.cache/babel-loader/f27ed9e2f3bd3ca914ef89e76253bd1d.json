{"ast":null,"code":"var _jsxFileName = \"/home/bruno/Documentos/projeto/Estudo/PozenatoFy/PozenatoFy/src/components/Card/index.js\";\nimport React, { useRef, useContext } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport BoardContext from '../Board/context';\nimport { Container, Label } from './styles';\nexport default function Card({\n  data,\n  index,\n  listIndex\n}) {\n  const ref = useRef();\n  const {\n    move\n  } = useContext(BoardContext);\n  const [{\n    isDragging\n  }, dragRef] = useDrag({\n    item: {\n      type: 'CARD',\n      index,\n      listIndex\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n  const [, dropRef] = useDrop({\n    accept: 'CARD',\n    hover(item, monitor) {\n      const draggedListIndex = item.listIndex;\n      const targetListIndex = listIndex;\n      const draggedIndex = item.index;\n      const targetIndex = index;\n      if (draggedIndex === targetIndex && draggedListIndex === targetListIndex) {\n        return;\n      }\n      const targetSize = ref.current.getBoundingClientRect();\n      const targetCenter = (targetSize.bottom - targetSize.top) / 2;\n      const draggedOffset = monitor.getClientOffset();\n      const draggedTop = draggedOffset.y - targetSize.top;\n      if (draggedIndex < targetIndex && draggedTop < targetCenter) {\n        return;\n      }\n      if (draggedIndex > targetIndex && draggedTop > targetCenter) {\n        return;\n      }\n      move(draggedListIndex, targetListIndex, draggedIndex, targetIndex);\n      item.index = targetIndex;\n      item.listIndex = targetListIndex;\n    }\n  });\n  dragRef(dropRef(ref));\n  return /*#__PURE__*/React.createElement(Container, {\n    ref: ref,\n    isDragging: isDragging,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, data.labels.map(label => /*#__PURE__*/React.createElement(Label, {\n    key: label,\n    color: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 35\n    }\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, data.content), data.user && /*#__PURE__*/React.createElement(\"img\", {\n    src: data.user,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 22\n    }\n  }));\n}","map":{"version":3,"names":["React","useRef","useContext","useDrag","useDrop","BoardContext","Container","Label","Card","data","index","listIndex","ref","move","isDragging","dragRef","item","type","collect","monitor","dropRef","accept","hover","draggedListIndex","targetListIndex","draggedIndex","targetIndex","targetSize","current","getBoundingClientRect","targetCenter","bottom","top","draggedOffset","getClientOffset","draggedTop","y","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","labels","map","label","key","color","content","user","src","alt"],"sources":["/home/bruno/Documentos/projeto/Estudo/PozenatoFy/PozenatoFy/src/components/Card/index.js"],"sourcesContent":["import React, { useRef, useContext } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\n\nimport BoardContext from '../Board/context';\n\nimport { Container, Label } from './styles';\n\nexport default function Card({ data, index, listIndex }) {\n  const ref = useRef();\n  const { move } = useContext(BoardContext);\n\n  const [{ isDragging }, dragRef] = useDrag({\n    item: { type: 'CARD', index, listIndex },\n    collect: monitor => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const [, dropRef] = useDrop({\n    accept: 'CARD',\n    hover(item, monitor) {\n      const draggedListIndex = item.listIndex;\n      const targetListIndex = listIndex;\n\n      const draggedIndex = item.index;\n      const targetIndex = index;\n\n      if (draggedIndex === targetIndex && draggedListIndex === targetListIndex) {\n        return;\n      }\n\n      const targetSize = ref.current.getBoundingClientRect();\n      const targetCenter = (targetSize.bottom - targetSize.top) / 2;\n\n      const draggedOffset = monitor.getClientOffset();\n      const draggedTop = draggedOffset.y - targetSize.top;\n\n      if (draggedIndex < targetIndex && draggedTop < targetCenter) {\n        return;\n      }\n\n      if (draggedIndex > targetIndex && draggedTop > targetCenter) {\n        return;\n      }\n\n      move(draggedListIndex, targetListIndex, draggedIndex, targetIndex);\n\n      item.index = targetIndex;\n      item.listIndex = targetListIndex;\n    }\n  })\n\n  dragRef(dropRef(ref));\n\n  return (\n    <Container ref={ref} isDragging={isDragging}>\n      <header>\n        {data.labels.map(label => <Label key={label} color={label} />)}\n      </header>\n      <p>{data.content}</p>\n      { data.user && <img src={data.user} alt=\"\"/> }\n    </Container>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}